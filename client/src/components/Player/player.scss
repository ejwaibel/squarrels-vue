@import "~@/assets/scss/variables";
@import "~@/../node_modules/bootstrap/scss/mixins/breakpoints";

$card-height: (
	small: 150,
	medium: 150,
);

$card-width: (
	small: 100,
	medium: 100,
);

@import "~@/components/Card/card";

.sq-player {
	align-content: center;
	align-items: center;
	display: flex;
	flex-flow: row nowrap;
	position: relative;
	text-align: center;
	z-index: 10;

	.sq-player-quarrel {
		@extend %playing-cards;

		animation: 0.5s linear grow;
		left: 0;
		position: absolute;
		top: 0;

		.card:not(.blank--) {
			box-shadow: none;
			left: 0;
			transform: rotateY(120deg);

			&::after {
				box-shadow: 0 0 20px 20px color("saffron");
				content: "";
				height: 100%;
				left: 0;
				opacity: 0;
				position: absolute;
				transition: opacity 0.5s linear;
				width: 100%;
			}
		}

		&.flip {
			@include flip-card;
		}

		&.winner {
			.card {
				&::after {
					opacity: 1;
				}
			}
		}
	}

	.sq-player-thumbnail {
		position: relative;
		z-index: 60;

		img {
			width: 6.5rem;
		}

		.sq-player-card-count {
			bottom: 0;
			color: color("alabaster");
			font-size: 2rem;
			line-height: 1;
			position: absolute;
			right: 0;
		}
	}

	&.current {
		.btn-card {
			&:not(.disabled) {
				cursor: pointer;
			}

			&.selected,
			&:hover {
				transform: translateY(-15%);

				.card {
					border: 2px solid color("zest");
					border-radius: 0.75rem;
					transform: scale(1.5);
				}
			}
		}
	}

	&.active {
		.sq-player-info {
			color: color("zest");
			font-weight: $font-weight-bold;
		}
	}

	.sq-player-cards {
		height: 100%;
		position: absolute;
		top: -100%;
		z-index: 5;

		.cards-group {
			@extend %playing-cards;
			height: 100%;

			.message {
				color: $white;
				font-size: 1.25em;
				text-align: left;
			}

			.cards-enter-active,
			.cards-leave-active {
				position: absolute;
				transition-duration: 0.75s;
				transition-property: opacity, transform;
			}

			.cards-enter {
				opacity: 0;
				transform: translateY(-3rem);
			}

			.cards-enter-to {
				opacity: 1;
				transform: translateY(0);
			}

			.cards-leave-to {
				opacity: 0;
				transform: translateY(3rem);
			}

			.btn-card {
				width: rem-calc($card-width-stack);
			}
		}
	}
}
